# Подключение к API (дополнение к шаблону)

Если вы расширяете портфолио-шаблон чат-ботом или формой с отправкой на сервер, полезно держать в голове общий путь интеграции с внешними API. Это не обязательная часть шаблона — дополнение для воркшопов и обучения.

## Общие принципы

1. **Секреты не в коде.** API-ключи и токены задавайте только в переменных окружения (например в Vercel: Settings → Environment Variables). В репозитории — только описание, какая переменная нужна (например `OPENAI_API_KEY`).
2. **Один endpoint — один провайдер.** Backend в виде одной serverless-функции (например `api/chat.js` или `api/send.js`) упрощает смену провайдера: меняете URL, формат запроса и разбор ответа в одном месте.
3. **Фронт от API не зависит.** Виджет чата или форма шлют POST на ваш endpoint; что происходит на сервере (какой LLM или почтовый сервис) — деталь реализации.

## Чат-бот с LLM

- **Фронт:** виджет (кнопка, окно, поле ввода). По отправке сообщения — POST на `/api/chat` с телом `{ message: "..." }`. Отображаете ответ из `response` или сообщение об ошибке из `error`.
- **Backend (Vercel Function):** читаете `message`, подставляете системный промпт (база знаний), вызываете API выбранного провайдера (OpenAI, Gemini, Grok и т.д.), возвращаете `{ response: "..." }`. Модель не дообучаете — только промпт; так экономятся токены.
- **Смена провайдера:** правка одной функции и переменной окружения; фронт не трогаете.

## Форма обратной связи

- **Вариант A (без бэкенда):** валидация на клиенте, затем `mailto:?subject=...&body=...`. Письмо отправится только когда пользователь нажмёт «Отправить» в своём почтовом клиенте.
- **Вариант B (с бэкендом):** форма шлёт POST на ваш endpoint (например `/api/send`); функция отправляет письмо через сервис (Resend, SendGrid и т.п.) и возвращает успех/ошибку. Нужен API-ключ сервиса в переменных окружения.

## Документация в проекте

В README проекта укажите: какие переменные окружения нужны (имена), для чего они, и куда пользователь может добавить ключи (Vercel, .env при локальной разработке). Без значений ключей — только плейсхолдеры в примерах.
